<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/admin-panel.css" />
    <link rel="icon" href="../styles/Images/logo.jpg" />
    <title>Eshim - Admin panel</title>
  </head>
  <body>
    <div class="search-bar">
      <input id="search-user" placeholder="Search user by accID..." />
      <input id="search-withdraw" placeholder="Search withdraw by wId..." />
      <input id="search-transaction" placeholder="Search transactions..." />
      <input id="search-purchase" placeholder="Search purchases..." />
    </div>

    <section class="admin-container">
      <div class="top">
        <div class="user-panel">
          <h2>👤 Users</h2>
          <ul class="admin-users"></ul>
        </div>
  
        <div class="withdraw-panel">
          <h2>💸 Withdraw Requests</h2>
          <ul class="admin-withdraws"></ul>
        </div>
      </div>
      
      <div class="bottom">
        <div class="transaction-panel">
          <h2>🔁 Transactions</h2>
          <ul class="admin-transactions"></ul>
        </div>
        <div class="purchase-panel">
          <h2>🛒 Purchases</h2>
          <ul class="admin-purchases"></ul>
        </div>
      </div>
      <div class="auction-panel">
        <h2>🔥 Start Auction</h2>
        <form id="auctionForm">
          <input
            type="text"
            id="auctionEshimId"
            placeholder="Enter ESHIM ID"
            required
          />
          <button type="submit" class="btn">Start Auction</button>
        </form>
      </div>
    </section>

    <div class="modal" style="display: none">
      <div class="modal-content">
        <h3>Edit User</h3>
        <form class="modal-form">
          <label>Account ID <input id="edit-accid" disabled /></label>
          <label>Status <input id="edit-status" required /></label>
          <label>Name <input id="edit-name" required /></label>
          <label>Password <input id="edit-password" /></label>
          <label>Telegram <input id="edit-telegram" /></label>
          <label
            >Balance <input id="edit-balance" type="number" step="0.01"
          /></label>
          <div class="modal-actions">
            <button type="submit" class="btn btn-save">💾 Save</button>
            <button type="button" class="btn btn-cancel" onclick="closeModal()">
              ❌ Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
      import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
      const firebaseConfig = {
        apiKey: "AIzaSyD0BvBkEdHI2TCt1MH4I8VFAteTUkMw_PE",
        authDomain: "eshim-coin.firebaseapp.com",
        projectId: "eshim-coin",
        storageBucket: "eshim-coin.firebasestorage.app",
        messagingSenderId: "1027852914663",
        appId: "1:1027852914663:web:9381d871eedca60896f742",
        measurementId: "G-M1K1X7QVTS",
      };
      const app = initializeApp(firebaseConfig);
      window.db = getFirestore(app);
    </script>

    <script type="module" src="../functions/admin-panel.js"></script>
  </body>
</html>
